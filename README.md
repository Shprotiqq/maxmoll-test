# Тестовое задание для Maxmoll

## Требование к стеку:

- Язык: PHP
- Фреймворк: любой, но желательно Laravel
- БД: MySQL или MariaDB

## Используемый стек:

- PHP 8.4.10
- Laravel 12.20
- БД: MariaDB

## Техническое задание:

Используя предоставленную структуру БД реализовать:

- Просмотр списка заказов;
- Просмотр списка товаров с их остатками по складам;
- Получение списка заказов (с фильтрами и настраиваемой пагинацией);
- Создание заказа (в заказе может быть несколько позиций с разным количеством);
- Обновление заказа (данные покупателя и список позиций, но не статус);
- Завершение заказа;
- Отмена заказа;
- Возобновление заказа (перевод из отмены в работу);
- История движения товаров и REST-метод для просмотра истории изменения остатков товаров с поддержкой фильтров (по
  складу, товару, дате и настраиваемая пагинация);
- Заполнение БД должно происходить путем вызова консольной команды.

## Ручное развертывание

- `cp .env.example .env`
- Заполнить `.env` файл
- Установить `composer` зависимости: `composer install`
- Сгенерировать ключ приложения: `php artisan key:generate`
- Выполнить миграции БД: `php artisan migrate --seed`

## Ручное развертывание через Docker Compose

- `cp .env.example .env`
- Заполнить `.env` файл
- `docker compose up --build -d nginx`
- `docker compose exec -it php composer install`
- `docker compose exec -it php php artisan key:generate`
- `docker compose exec -it php php artisan migrate --seed`

## Развертывание с использованием Makefile

- Выполнить шаги `1` и `2` из раздела `Ручное развертывание`
- `make install`

## Дополнительно

- Повторный запуск приложения: `docker compose up -d nginx` или `make up`
- Остановка приложения: `docker compose down` или `make down`
- Очистка кеша:
  `docker compose exec -it php php artisan cache:clear && docker compose exec -it php php artisan optimize:clear` или
  `make clear`
- Консольная команда для заполнения БД тестовыми данными: `seed:test-data`
  - Поддерживает параметры для изменения кол-ва создаваемых записей.
